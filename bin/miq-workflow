#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'
require 'English'
require_relative '../lib/bootstrap.rb'
require_relative '../lib/cli/cli.rb'

at_exit do
  # Do cleanup
  GitFlow.tear_down()

  # Exception or normal exit?
  if $ERROR_INFO
    # Find the correct ExitCode
    exit($ERROR_INFO.class::EXIT_CODE) if $ERROR_INFO.kind_of?(GitFlow::Error)
    exit 1
  end
end

GitFlow::Cli::MainCli.start()
